{"ast":null,"code":"import { io } from \"socket.io-client\";\n\nconst Sketch = p5 => {\n  let data = {};\n  let socket;\n  let setClear;\n  let disable;\n\n  p5.myCustomRedrawAccordingToNewPropsHandler = props => {\n    console.log(\"prop\", props);\n\n    if (props.clear) {\n      p5.clear();\n      p5.background(250);\n      socket.emit(\"DRAWING\", {});\n    }\n\n    if (props.data) {\n      data = props.data;\n      console.log(\"data\", data);\n    }\n\n    setClear = props.setClear;\n    disable = props.disable;\n  };\n\n  p5.setup = () => {\n    socket = io.connect(\"reactpictionary.herokuapp.com\" || \"localhost:4002\");\n    p5.createCanvas(400, 400);\n    p5.background(250);\n    socket.on(\"DRAWING\", data => {\n      p5.strokeWeight(10);\n      p5.line(data.mouseX, data.mouseY, data.pmouseX, data.pmouseY);\n    });\n  };\n\n  p5.draw = () => {\n    p5.line(data.mouseX, data.mouseY, data.pmouseX, data.pmouseY);\n  };\n\n  p5.mouseDragged = () => {\n    if (!disable) {\n      p5.strokeWeight(10);\n      p5.line(p5.mouseX, p5.mouseY, p5.pmouseX, p5.pmouseY);\n      setClear(false);\n      socket.emit(\"DRAWING\", {\n        mouseX: p5.mouseX,\n        mouseY: p5.mouseY,\n        pmouseX: p5.pmouseX,\n        pmouseY: p5.pmouseY\n      });\n    }\n  };\n};\n\n_c = Sketch;\nexport default Sketch;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sketch\");","map":{"version":3,"sources":["/Users/danyin/Desktop/CS7580/dan_yin_fan_fan_joyce_liu_xiaoyan_qin_finalproject/src/components/canvas/sketch.js"],"names":["io","Sketch","p5","data","socket","setClear","disable","myCustomRedrawAccordingToNewPropsHandler","props","console","log","clear","background","emit","setup","connect","createCanvas","on","strokeWeight","line","mouseX","mouseY","pmouseX","pmouseY","draw","mouseDragged"],"mappings":"AAAA,SAASA,EAAT,QAAmB,kBAAnB;;AAEA,MAAMC,MAAM,GAAIC,EAAD,IAAQ;AACrB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,MAAJ;AACA,MAAIC,QAAJ;AACA,MAAIC,OAAJ;;AAEAJ,EAAAA,EAAE,CAACK,wCAAH,GAA+CC,KAAD,IAAW;AACvDC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,KAApB;;AACA,QAAIA,KAAK,CAACG,KAAV,EAAiB;AACfT,MAAAA,EAAE,CAACS,KAAH;AACAT,MAAAA,EAAE,CAACU,UAAH,CAAc,GAAd;AACAR,MAAAA,MAAM,CAACS,IAAP,CAAY,SAAZ,EAAuB,EAAvB;AACD;;AAED,QAAIL,KAAK,CAACL,IAAV,EAAgB;AACdA,MAAAA,IAAI,GAAGK,KAAK,CAACL,IAAb;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBP,IAApB;AACD;;AAEDE,IAAAA,QAAQ,GAAGG,KAAK,CAACH,QAAjB;AACAC,IAAAA,OAAO,GAAGE,KAAK,CAACF,OAAhB;AACD,GAfD;;AAiBAJ,EAAAA,EAAE,CAACY,KAAH,GAAW,MAAM;AACfV,IAAAA,MAAM,GAAGJ,EAAE,CAACe,OAAH,CAAW,mCAAmC,gBAA9C,CAAT;AAEAb,IAAAA,EAAE,CAACc,YAAH,CAAgB,GAAhB,EAAqB,GAArB;AACAd,IAAAA,EAAE,CAACU,UAAH,CAAc,GAAd;AACAR,IAAAA,MAAM,CAACa,EAAP,CAAU,SAAV,EAAsBd,IAAD,IAAU;AAC7BD,MAAAA,EAAE,CAACgB,YAAH,CAAgB,EAAhB;AACAhB,MAAAA,EAAE,CAACiB,IAAH,CAAQhB,IAAI,CAACiB,MAAb,EAAqBjB,IAAI,CAACkB,MAA1B,EAAkClB,IAAI,CAACmB,OAAvC,EAAgDnB,IAAI,CAACoB,OAArD;AACD,KAHD;AAID,GATD;;AAWArB,EAAAA,EAAE,CAACsB,IAAH,GAAU,MAAM;AACdtB,IAAAA,EAAE,CAACiB,IAAH,CAAQhB,IAAI,CAACiB,MAAb,EAAqBjB,IAAI,CAACkB,MAA1B,EAAkClB,IAAI,CAACmB,OAAvC,EAAgDnB,IAAI,CAACoB,OAArD;AACD,GAFD;;AAIArB,EAAAA,EAAE,CAACuB,YAAH,GAAkB,MAAM;AACtB,QAAI,CAACnB,OAAL,EAAc;AACZJ,MAAAA,EAAE,CAACgB,YAAH,CAAgB,EAAhB;AAEAhB,MAAAA,EAAE,CAACiB,IAAH,CAAQjB,EAAE,CAACkB,MAAX,EAAmBlB,EAAE,CAACmB,MAAtB,EAA8BnB,EAAE,CAACoB,OAAjC,EAA0CpB,EAAE,CAACqB,OAA7C;AAEAlB,MAAAA,QAAQ,CAAC,KAAD,CAAR;AAEAD,MAAAA,MAAM,CAACS,IAAP,CAAY,SAAZ,EAAuB;AACrBO,QAAAA,MAAM,EAAElB,EAAE,CAACkB,MADU;AAErBC,QAAAA,MAAM,EAAEnB,EAAE,CAACmB,MAFU;AAGrBC,QAAAA,OAAO,EAAEpB,EAAE,CAACoB,OAHS;AAIrBC,QAAAA,OAAO,EAAErB,EAAE,CAACqB;AAJS,OAAvB;AAMD;AACF,GAfD;AAgBD,CAtDD;;KAAMtB,M;AAwDN,eAAeA,MAAf","sourcesContent":["import { io } from \"socket.io-client\";\n\nconst Sketch = (p5) => {\n  let data = {};\n  let socket;\n  let setClear;\n  let disable;\n\n  p5.myCustomRedrawAccordingToNewPropsHandler = (props) => {\n    console.log(\"prop\", props);\n    if (props.clear) {\n      p5.clear();\n      p5.background(250);\n      socket.emit(\"DRAWING\", {});\n    }\n\n    if (props.data) {\n      data = props.data;\n      console.log(\"data\", data);\n    }\n\n    setClear = props.setClear;\n    disable = props.disable;\n  };\n\n  p5.setup = () => {\n    socket = io.connect(\"reactpictionary.herokuapp.com\" || \"localhost:4002\");\n\n    p5.createCanvas(400, 400);\n    p5.background(250);\n    socket.on(\"DRAWING\", (data) => {\n      p5.strokeWeight(10);\n      p5.line(data.mouseX, data.mouseY, data.pmouseX, data.pmouseY);\n    });\n  };\n\n  p5.draw = () => {\n    p5.line(data.mouseX, data.mouseY, data.pmouseX, data.pmouseY);\n  };\n\n  p5.mouseDragged = () => {\n    if (!disable) {\n      p5.strokeWeight(10);\n\n      p5.line(p5.mouseX, p5.mouseY, p5.pmouseX, p5.pmouseY);\n\n      setClear(false);\n\n      socket.emit(\"DRAWING\", {\n        mouseX: p5.mouseX,\n        mouseY: p5.mouseY,\n        pmouseX: p5.pmouseX,\n        pmouseY: p5.pmouseY,\n      });\n    }\n  };\n};\n\nexport default Sketch;\n"]},"metadata":{},"sourceType":"module"}