{"ast":null,"code":"import { NEW_MESSAGE, CONNECTED, CLEAR, USER, CLIENTS, CURRENT_PLAYER, NEW_TIME, GAME_START, SET_WORD, GAME_STATUS } from \"./actionConstants\";\nimport { clear, joinChat, sendMessage, startTheGame, startTheTimer, start, end, sendRightAnswerMsg } from \"../client\";\nconst TIMER = 30; // Action creator functions - use async actions to communicate with server\n// Replaces the direct call to joinChat in App\n\nexport const connectToChat = username => {\n  return dispatch => joinChat(username);\n}; // Replaces the direct call to sendMessage in Form\n\nexport const sendToChat = msg => {\n  return dispatch => sendMessage(msg);\n};\nexport const sendRightAnswer = msg => {\n  return dispatch => sendRightAnswerMsg(msg);\n};\nexport const isConnected = () => ({\n  type: CONNECTED\n});\nexport const clearDraw = p => {\n  return dispatch => clear(p);\n}; // export const getCurrentPlayer = () => {\n//   return (dispatch) => getPlayer();\n// };\n\nexport const clearSketch = p => ({\n  type: CLEAR,\n  payload: {\n    p\n  }\n}); // export const gameStatus = (status) => ({\n//   type: GAME_STATUS,\n//   payload: {\n//     status,\n//   },\n// });\n\nexport const endGame = () => {\n  return dispatch => end();\n};\nexport const storeUser = user => ({\n  type: USER,\n  payload: {\n    user\n  }\n});\nexport const setCurrentPlayer = user => ({\n  type: CURRENT_PLAYER,\n  payload: {\n    user\n  }\n});\nexport const setWord = word => ({\n  type: SET_WORD,\n  payload: {\n    word\n  }\n});\nexport const newMessage = messages => ({\n  type: NEW_MESSAGE,\n  payload: {\n    messages\n  }\n});\nexport const getAllClients = clients => ({\n  type: CLIENTS,\n  payload: {\n    clients\n  }\n});\nexport const startGame = index => {\n  console.log(\"clicked start\", index);\n  return dispatch => {\n    startTheGame(index, result => {\n      dispatch(setCurrentPlayer(result));\n    });\n    startTheTimer(TIMER, result => {\n      dispatch(newTime(result));\n    });\n  };\n};\n\nconst newTime = time => ({\n  type: NEW_TIME,\n  payload: {\n    time\n  }\n});\n\nexport const startTimer = time => {\n  return dispatch => {\n    startTheTimer(time, result => {\n      dispatch(newTime(result));\n    });\n  };\n}; // export const setStart = (status) => {\n//   return (dispatch) => start(status);\n// };\n\nexport const updateStart = start => ({\n  type: GAME_START,\n  payload: {\n    start\n  }\n});","map":{"version":3,"sources":["/Users/danyin/Desktop/CS7580/dan_yin_fan_fan_joyce_liu_xiaoyan_qin_finalproject/src/redux/actions.js"],"names":["NEW_MESSAGE","CONNECTED","CLEAR","USER","CLIENTS","CURRENT_PLAYER","NEW_TIME","GAME_START","SET_WORD","GAME_STATUS","clear","joinChat","sendMessage","startTheGame","startTheTimer","start","end","sendRightAnswerMsg","TIMER","connectToChat","username","dispatch","sendToChat","msg","sendRightAnswer","isConnected","type","clearDraw","p","clearSketch","payload","endGame","storeUser","user","setCurrentPlayer","setWord","word","newMessage","messages","getAllClients","clients","startGame","index","console","log","result","newTime","time","startTimer","updateStart"],"mappings":"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","sourcesContent":["import {\n  NEW_MESSAGE,\n  CONNECTED,\n  CLEAR,\n  USER,\n  CLIENTS,\n  CURRENT_PLAYER,\n  NEW_TIME,\n  GAME_START,\n  SET_WORD,\n  GAME_STATUS,\n} from \"./actionConstants\";\nimport {\n  clear,\n  joinChat,\n  sendMessage,\n  startTheGame,\n  startTheTimer,\n  start,\n  end,\n  sendRightAnswerMsg,\n} from \"../client\";\n\nconst TIMER = 30;\n\n// Action creator functions - use async actions to communicate with server\n// Replaces the direct call to joinChat in App\nexport const connectToChat = (username) => {\n  return (dispatch) => joinChat(username);\n};\n\n// Replaces the direct call to sendMessage in Form\nexport const sendToChat = (msg) => {\n  return (dispatch) => sendMessage(msg);\n};\n\nexport const sendRightAnswer = (msg) => {\n  return (dispatch) => sendRightAnswerMsg(msg);\n};\n\nexport const isConnected = () => ({ type: CONNECTED });\n\nexport const clearDraw = (p) => {\n  return (dispatch) => clear(p);\n};\n\n// export const getCurrentPlayer = () => {\n//   return (dispatch) => getPlayer();\n// };\n\nexport const clearSketch = (p) => ({\n  type: CLEAR,\n  payload: {\n    p,\n  },\n});\n\n// export const gameStatus = (status) => ({\n//   type: GAME_STATUS,\n//   payload: {\n//     status,\n//   },\n// });\n\nexport const endGame = () => {\n  return (dispatch) => end();\n};\n\nexport const storeUser = (user) => ({\n  type: USER,\n  payload: {\n    user,\n  },\n});\n\nexport const setCurrentPlayer = (user) => ({\n  type: CURRENT_PLAYER,\n  payload: {\n    user,\n  },\n});\n\nexport const setWord = (word) => ({\n  type: SET_WORD,\n  payload: {\n    word,\n  },\n});\n\nexport const newMessage = (messages) => ({\n  type: NEW_MESSAGE,\n  payload: {\n    messages,\n  },\n});\n\nexport const getAllClients = (clients) => ({\n  type: CLIENTS,\n  payload: {\n    clients,\n  },\n});\n\nexport const startGame = (index) => {\n  console.log(\"clicked start\", index);\n  return (dispatch) => {\n    startTheGame(index, (result) => {\n      dispatch(setCurrentPlayer(result));\n    });\n\n    startTheTimer(TIMER, (result) => {\n      dispatch(newTime(result));\n    });\n  };\n};\n\nconst newTime = (time) => ({\n  type: NEW_TIME,\n  payload: {\n    time,\n  },\n});\n\nexport const startTimer = (time) => {\n  return (dispatch) => {\n    startTheTimer(time, (result) => {\n      dispatch(newTime(result));\n    });\n  };\n};\n\n// export const setStart = (status) => {\n//   return (dispatch) => start(status);\n// };\n\nexport const updateStart = (start) => ({\n  type: GAME_START,\n  payload: {\n    start,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}