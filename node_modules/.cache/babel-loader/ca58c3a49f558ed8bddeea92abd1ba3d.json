{"ast":null,"code":"import React, { useState } from \"react\";\nimport { startToDraw } from \"../../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Sketch = p5 => {\n  let data = {};\n  let dispatch;\n  console.log(\"in sketch\");\n\n  p5.myCustomRedrawAccordingToNewPropsHandler = props => {\n    console.log(\"prop\", props);\n\n    if (props.clear) {\n      p5.clear();\n      p5.background(250);\n    }\n\n    if (props.data) {\n      data = props.data;\n      console.log(\"data\", data);\n    }\n\n    dispatch = props.dispatch;\n  };\n\n  p5.setup = () => {\n    p5.createCanvas(670, 600);\n    p5.background(250);\n    p5.strokeWeight(10);\n    console.log(\"data\", data);\n    p5.line(data.mouseX, data.mouseY, data.pmouseX, data.pmouseY);\n  };\n\n  p5.draw = () => {};\n\n  p5.mouseDragged = function () {\n    p5.strokeWeight(10);\n    p5.line(p5.mouseX, p5.mouseY, p5.pmouseX, p5.pmouseY);\n    dispatch(startToDraw({\n      mouseX: p5.mouseX,\n      mouseY: p5.mouseY,\n      pmouseX: p5.pmouseX,\n      pmouseY: p5.pmouseY\n    }));\n  };\n};\n\n_c = Sketch;\nexport default Sketch;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sketch\");","map":{"version":3,"sources":["/Users/danyin/Desktop/CS7580/dan_yin_fan_fan_joyce_liu_xiaoyan_qin_finalproject/src/components/canvas/sketch.js"],"names":["React","useState","startToDraw","useDispatch","useSelector","Sketch","p5","data","dispatch","console","log","myCustomRedrawAccordingToNewPropsHandler","props","clear","background","setup","createCanvas","strokeWeight","line","mouseX","mouseY","pmouseX","pmouseY","draw","mouseDragged"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAEA,MAAMC,MAAM,GAAIC,EAAD,IAAQ;AACrB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,QAAJ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AAEAJ,EAAAA,EAAE,CAACK,wCAAH,GAA+CC,KAAD,IAAW;AACvDH,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBE,KAApB;;AACA,QAAIA,KAAK,CAACC,KAAV,EAAiB;AACfP,MAAAA,EAAE,CAACO,KAAH;AACAP,MAAAA,EAAE,CAACQ,UAAH,CAAc,GAAd;AACD;;AAED,QAAIF,KAAK,CAACL,IAAV,EAAgB;AACdA,MAAAA,IAAI,GAAGK,KAAK,CAACL,IAAb;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;AACD;;AACDC,IAAAA,QAAQ,GAAGI,KAAK,CAACJ,QAAjB;AACD,GAZD;;AAcAF,EAAAA,EAAE,CAACS,KAAH,GAAW,MAAM;AACfT,IAAAA,EAAE,CAACU,YAAH,CAAgB,GAAhB,EAAqB,GAArB;AACAV,IAAAA,EAAE,CAACQ,UAAH,CAAc,GAAd;AACAR,IAAAA,EAAE,CAACW,YAAH,CAAgB,EAAhB;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;AACAD,IAAAA,EAAE,CAACY,IAAH,CAAQX,IAAI,CAACY,MAAb,EAAqBZ,IAAI,CAACa,MAA1B,EAAkCb,IAAI,CAACc,OAAvC,EAAgDd,IAAI,CAACe,OAArD;AACD,GAND;;AAQAhB,EAAAA,EAAE,CAACiB,IAAH,GAAU,MAAM,CAAE,CAAlB;;AAEAjB,EAAAA,EAAE,CAACkB,YAAH,GAAkB,YAAY;AAC5BlB,IAAAA,EAAE,CAACW,YAAH,CAAgB,EAAhB;AACAX,IAAAA,EAAE,CAACY,IAAH,CAAQZ,EAAE,CAACa,MAAX,EAAmBb,EAAE,CAACc,MAAtB,EAA8Bd,EAAE,CAACe,OAAjC,EAA0Cf,EAAE,CAACgB,OAA7C;AACAd,IAAAA,QAAQ,CACNN,WAAW,CAAC;AACViB,MAAAA,MAAM,EAAEb,EAAE,CAACa,MADD;AAEVC,MAAAA,MAAM,EAAEd,EAAE,CAACc,MAFD;AAGVC,MAAAA,OAAO,EAAEf,EAAE,CAACe,OAHF;AAIVC,MAAAA,OAAO,EAAEhB,EAAE,CAACgB;AAJF,KAAD,CADL,CAAR;AAQD,GAXD;AAYD,CAzCD;;KAAMjB,M;AA2CN,eAAeA,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { startToDraw } from \"../../redux/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Sketch = (p5) => {\n  let data = {};\n  let dispatch;\n  console.log(\"in sketch\");\n\n  p5.myCustomRedrawAccordingToNewPropsHandler = (props) => {\n    console.log(\"prop\", props);\n    if (props.clear) {\n      p5.clear();\n      p5.background(250);\n    }\n\n    if (props.data) {\n      data = props.data;\n      console.log(\"data\", data);\n    }\n    dispatch = props.dispatch;\n  };\n\n  p5.setup = () => {\n    p5.createCanvas(670, 600);\n    p5.background(250);\n    p5.strokeWeight(10);\n    console.log(\"data\", data);\n    p5.line(data.mouseX, data.mouseY, data.pmouseX, data.pmouseY);\n  };\n\n  p5.draw = () => {};\n\n  p5.mouseDragged = function () {\n    p5.strokeWeight(10);\n    p5.line(p5.mouseX, p5.mouseY, p5.pmouseX, p5.pmouseY);\n    dispatch(\n      startToDraw({\n        mouseX: p5.mouseX,\n        mouseY: p5.mouseY,\n        pmouseX: p5.pmouseX,\n        pmouseY: p5.pmouseY,\n      })\n    );\n  };\n};\n\nexport default Sketch;\n"]},"metadata":{},"sourceType":"module"}